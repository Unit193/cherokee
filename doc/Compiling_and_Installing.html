<html>
 <header>
     <title>Cherokee Web Server: Compiling and Installing</title>
	<style>	
	body {
		
		width: 760px; 
		margin: auto;
		font-family: 'Trebuchet MS', 'Lucida Grande', Verdana, Arial, Sans-Serif;
		font-size: small;
		padding: 10px;
	}
	
	#header {
		border-bottom: 2px solid #b00;
	}

	#toc {
		border: 
		color: #650;
		background-color: #f0e9b0;
		border: 1px solid #a99d3a;
		font-size: small;
		-moz-border-radius: 4px;
		float: right;
		margin: 4px;
	}

	#toc a {
		color: #650;
	}

	#toctitle {
		color: #fff;
		background-color: #650;
	}
	
	h1 {
		border-bottom: 1px solid #b00;
		float: right;
		border-bottom: 0px;
	}

	h2 {
		border-bottom: 1px solid #b00;
	}

	pre {
		background-color: #000;
		color: #ddd;
		padding: 5px;
	}

	#footer {
		border-top: 1px dotted #ddd;
		color: #666;
		font-size: 90%;
		padding: 10px;
		padding-bottom: 40px;
	}

/* Merge template style */

.messagebox {
   border: 1px solid #aaaaaa;
   background-color: #f9f9f9;
   width: 80%;
   margin: 0 auto 1em auto;
   padding: .2em;
   text-align: justify;
}
.messagebox.merge {
   border: 1px solid #cf9fff;
   background-color: #f5edf5;
   text-align: center;
}
.messagebox.cleanup {
   border: 1px solid #9f9fff;
   background-color: #efefff;
   text-align: center;
}
.messagebox.standard-talk {
   border: 1px solid #c0c090;
   background-color: #f8eaba;
}

	</style>
 </header>
 <body>
     <h1>Compiling and Installing</h1>
	<div id="header"><img src="cherokee.png" /></div>
	   <p>This section shows how to install <a href="http://www.0x50.org" class='external text' title="http://www.0x50.org" rel="nofollow">Cherokee</a> in a Unix environment.  At this moment, there is an effort of porting the server to a native Windows program, but it is under heavy development and it will need more time and work to be ready to be used.
</p><p><br />
</p>
<table id='toc' class='toc'><tr><td><div id='toctitle'><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="#Requirements"><span class="tocnumber">1</span> <span class="toctext">Requirements</span></a></li>
<li class='toclevel-1'><a href="#Download"><span class="tocnumber">2</span> <span class="toctext">Download</span></a></li>
<li class='toclevel-1'><a href="#Secure_connections:_TLS_.2F_SSL"><span class="tocnumber">3</span> <span class="toctext">Secure connections: TLS / SSL</span></a></li>
<li class='toclevel-1'><a href="#IPv6_support"><span class="tocnumber">4</span> <span class="toctext">IPv6 support</span></a></li>
<li class='toclevel-1'><a href="#Compilation"><span class="tocnumber">5</span> <span class="toctext">Compilation</span></a></li>
<li class='toclevel-1'><a href="#Installation"><span class="tocnumber">6</span> <span class="toctext">Installation</span></a></li>
</ul>
</td></tr></table>
<p><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
</p>
<a name="Requirements"></a><h2>Requirements</h2>
<p>The following requirements exist for building Cherokee:
</p>
<ul><li> <b>Building tools</b>: Cherokee is built on the top of the autoconf and automake tools, hence your systems has to have some basic system programs like a sh shell, make and a ANSI C compiler.  We have compiled Cherokee in various platforms with different compilers, so it shouldn't be a problem.
</li><li> <b>Optional</b>
<ul><li> Python: Cherokee includes a number of Quality Assurances tests written in Python language. If you are planning to contribute code into the project, or you just want to test everything is working in the server, you will need a Python interpreter installed on your system.
</li><li> TLS libraries: Cherokee support two different SSL/TLS libraries: <a href="http://www.openssl.org" class='external text' title="http://www.openssl.org" rel="nofollow">OpenSSL</a> and <a href="http://www.gnu.org/software/gnutls/" class='external text' title="http://www.gnu.org/software/gnutls/" rel="nofollow">GNUTLS</a>. If you want to compile Cherokee with secure connections support, you need to have one of that libraries with its development files. 
</li></ul>
</li></ul>
<p><br />
</p>
<a name="Download"></a><h2>Download</h2>
<p>Cherokee can be downloaded from the <a href="http://0x50.org/index.php?option=com_content&amp;task=view&amp;id=11&amp;Itemid=13" class='external text' title="http://0x50.org/index.php?option=com content&amp;task=view&amp;id=11&amp;Itemid=13" rel="nofollow">Cherokee Web Server download site</a> or from one of the mirrors. Some users of Cherokee on unix-like systems will be better off downloading and compiling a source version. The build process (described below) is easy, and it allows you to customize your server to suit your needs.  Anyway, there are some operating systems and GNU/Linux distributions that are building  <a href="http://0x50.org/index.php?option=com_content&amp;task=view&amp;id=11&amp;Itemid=13" class='external text' title="http://0x50.org/index.php?option=com content&amp;task=view&amp;id=11&amp;Itemid=13" rel="nofollow">Cherokee binary packages</a>
</p>
If you know the URL of the cherokee sources that you would like to download, for example, cherokee-x.y.z.tar.gz, you can just use the follow command: <pre>wget http://0x50.org/download/x.y/x.y.z/cherokee-x.y.z.tar.gz -O - | gzip -dc - | tar xfv -</pre>
<p><br />
</p>
<a name="Secure_connections:_TLS_.2F_SSL"></a><h2>Secure connections: TLS / SSL</h2>
<p>In order to activate the secure connections support you has to ensure you have one of GNUTLS or OpenSSL libraries installed on your system.
The configuration script will detect if there is a suitable installation of that libraries.  If it finds one of them, it will compile the server with SSL/TLS support.  Anyway you can specify who do you want to compile the it:
</p>
To disable the the SSL/TLS support just add the follow parameter to configure: <pre>--disable-tls</pre>
To force to compile using the GNU TLS library: <pre>--enable-tls=gnutls</pre>
To force to compile using the OpenSSL: <pre>--enable-tls=openssl</pre>
<p><br />
</p>
<a name="IPv6_support"></a><h2>IPv6 support</h2>
<p>Cherokee supports IPv6.  If your building system supports it, the server will be built with this feature enabled. If it isn't supported or enabled on your system, the binary simply won't be able to work with a IPv6 stack.  If Cherokee is compiled with IPv6 support it will work with both stacks: IPv4 and IPv6 at same time. Anyway there is a configuration option that will allow you to disable the IPv6 support on run time.
</p>
To disable the IPv6 support: <pre>--disable-ipv6</pre>
<p><br />
</p>
<a name="Compilation"></a><h2>Compilation</h2>
<p>There are a few very important configure parameters: prefix, sysconfdir and with-wwwroot.  Usually it is a good idea to use these three parameters. A very common configure script call is:
</p>
<pre>./configure --prefix=/usr --sysconfdir=/etc --with-wwwroot=/var/www</pre>
After this, the sources will be ready to get compiled. This should be enough <pre>make</pre> but you can also add compilation parameters. For example, if you are using gcc and you want to compile the Cherokee with debug information just execute make like this <pre>make CFLAGS=&quot;-O0 -g&quot;</pre>
<p><br />
</p>
<a name="Installation"></a><h2>Installation</h2>
Oposite to other programs, it is mandatory to install Cherokee.  It uses libraries and extension modules that will not work if you try to execute it from the installation directory.  In order to install everything, just execute  <pre>make install</pre>
<p>If you are making a system wide installation you will need to become root first.
</p><p>If you wish auto start cherokee at boot (through init's runlevel) you can find a start/stop script into the contrib source directory:
</p>
<pre>cp contrib/cherokee /etc/init.d/</pre>
<p>additionaly you need to create symlinks at the correct runlevels rc directories, this can can be done by many ways and distributions offer its own tools to do it.
</p>
     <div id="footer"><a href="http://www.0x50.org">Cherokee</a> Web Server</div>
 </body>
</html>
