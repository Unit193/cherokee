<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-us" />
    <meta name="ROBOTS" content="ALL" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta name="MSSmartTagsPreventParsing" content="true" />
    <meta name="Keywords" content="cherokee web server httpd http" />
    <meta name="Description" content="Cherokee is a flexible, very fast, lightweight Web server. It is implemented entirely in C, and has no dependencies beyond a standard C library. It is embeddable and extensible with plug-ins. It supports on-the-fly configuration by reading files or strings, TLS/SSL (via GNUTLS or OpenSSL), virtual hosts, authentication, cache friendly features, PHP, custom error management, and much more." />
    <link href="media/css/cherokee_doc.css" rel="stylesheet" type="text/css" media="all" />
  </head>
<body>
<h2 id="_a_href_index_html_index_a_8594_a_href_modules_html_modules_a_8594_a_href_modules_loggers_html_loggers_a"><a href="index.html">Index</a> &#8594; <a href="modules.html">Modules</a> &#8594; <a href="modules_loggers.html">Loggers</a></h2>
<div class="sectionbody">
<h3 id="_logger_custom">Logger: Custom</h3><div style="clear:left"></div>
<div class="para"><p>This module implements a flexible mechanism for logging requests made
to the server, using a user-specified format.</p></div>
<div class="para"><p>The format in which the request will be logged is defined by a string.
This string is used to log each request to the log. It can contain
both literal characters and a set of variables. All the literal
characters will be copied to the log. The following variables will be
evaluated right before writing each log entry:</p></div>
<div class="tableblock">
<table rules="rows"
frame="hsides"
cellspacing="0" cellpadding="4">
<col width="208" />
<col width="231" />
<col width="360" />
<thead>
  <tr>
    <th align="left">
    Variable                  
    </th>
    <th align="left">
    Example                    
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    <tt>${ip_remote}</tt>          
    </td>
    <td align="left">
    74.125.67.100              
    </td>
    <td align="left">
    Remote IP-address
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${ip_local}</tt>           
    </td>
    <td align="left">
    10.0.0.1                   
    </td>
    <td align="left">
    Local IP-address
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${request}</tt>            
    </td>
    <td align="left">
    /file.txt                  
    </td>
    <td align="left">
    URL path requested
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${request_original}</tt>   
    </td>
    <td align="left">
    /file.txt                  
    </td>
    <td align="left">
    URL path requested before any rewrite
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${protocol}</tt>           
    </td>
    <td align="left">
    http                       
    </td>
    <td align="left">
    Request Protocol
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${port_server}</tt>        
    </td>
    <td align="left">
    80                         
    </td>
    <td align="left">
    Port of the server serving the request
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${query_string}</tt>       
    </td>
    <td align="left">
    ?bar=foo                   
    </td>
    <td align="left">
    The query string, if exists
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${request_first_line}</tt> 
    </td>
    <td align="left">
    GET / HTTP/1.0             
    </td>
    <td align="left">
    First line of request
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${status}</tt>             
    </td>
    <td align="left">
    200                        
    </td>
    <td align="left">
    Status of the request
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${now}</tt>                
    </td>
    <td align="left">
    08/Apr/2009:12:02:11 +0200 
    </td>
    <td align="left">
    Time: in common log format time format
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${time_secs}</tt>          
    </td>
    <td align="left">
    1239185281                 
    </td>
    <td align="left">
    Time: seconds since Epoch
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${time_msecs}</tt>         
    </td>
    <td align="left">
    18446744071655350332       
    </td>
    <td align="left">
    Time: milliseconds since Epoch
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${user_remote}</tt>        
    </td>
    <td align="left">
    guest                      
    </td>
    <td align="left">
    Remote user (authentication)
    </td>
  </tr>
  <tr>
    <td align="left">
    <tt>${vserver_name}</tt>       
    </td>
    <td align="left">
    default                    
    </td>
    <td align="left">
    Virtual Server nick name
    </td>
  </tr>
</tbody>
</table>
</div>
<h3 id="examples">Example</h3><div style="clear:left"></div>
<div class="para"><p>For instance, the following format string:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>[${now}] ${ip_remote}: ${request} (${status})</tt></pre>
</div></div>
<div class="para"><p>would generate this entry in the log:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>[08/Apr/2009:12:02:11 +0200] 74.125.67.100: /file.txt (200)</tt></pre>
</div></div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>
