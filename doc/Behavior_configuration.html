<html>
 <header>
     <title>Cherokee Web Server: Behavior configuration</title>
	<style>	
	body {
		
		width: 760px; 
		margin: auto;
		font-family: 'Trebuchet MS', 'Lucida Grande', Verdana, Arial, Sans-Serif;
		font-size: small;
		padding: 10px;
	}
	
	#header {
		border-bottom: 2px solid #b00;
	}

	#toc {
		border: 
		color: #650;
		background-color: #f0e9b0;
		border: 1px solid #a99d3a;
		font-size: small;
		-moz-border-radius: 4px;
		float: right;
		margin: 4px;
	}

	#toc a {
		color: #650;
	}

	#toctitle {
		color: #fff;
		background-color: #650;
	}
	
	h1 {
		border-bottom: 1px solid #b00;
		float: right;
		border-bottom: 0px;
	}

	h2 {
		border-bottom: 1px solid #b00;
	}

	pre {
		background-color: #000;
		color: #ddd;
		padding: 5px;
	}

	#footer {
		border-top: 1px dotted #ddd;
		color: #666;
		font-size: 90%;
		padding: 10px;
		padding-bottom: 40px;
	}

/* Merge template style */

.messagebox {
   border: 1px solid #aaaaaa;
   background-color: #f9f9f9;
   width: 80%;
   margin: 0 auto 1em auto;
   padding: .2em;
   text-align: justify;
}
.messagebox.merge {
   border: 1px solid #cf9fff;
   background-color: #f5edf5;
   text-align: center;
}
.messagebox.cleanup {
   border: 1px solid #9f9fff;
   background-color: #efefff;
   text-align: center;
}
.messagebox.standard-talk {
   border: 1px solid #c0c090;
   background-color: #f8eaba;
}

	</style>
 </header>
 <body>
     <h1>Behavior configuration</h1>
	<div id="header"><img src="cherokee.png" /></div>
	   <p>There is a common group of parameters which modify the server behavior.  These clauses can be used inside either <a href="Directory_configuration.html" title="Directory configuration">Directory configuration</a> or <a href="Extension_configuration.html" title="Extension configuration">Extension configuration</a> directives.
</p>
<table id='toc' class='toc'><tr><td><div id='toctitle'><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="#Handler"><span class="tocnumber">1</span> <span class="toctext">Handler</span></a>
<ul>
<li class='toclevel-2'><a href="#Examples"><span class="tocnumber">1.1</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#DocumentRoot"><span class="tocnumber">2</span> <span class="toctext">DocumentRoot</span></a>
<ul>
<li class='toclevel-2'><a href="#Examples_2"><span class="tocnumber">2.1</span> <span class="toctext">Examples</span></a>
<ul>
<li class='toclevel-3'><a href="#Global_DocumentRoot"><span class="tocnumber">2.1.1</span> <span class="toctext">Global DocumentRoot</span></a></li>
<li class='toclevel-3'><a href="#Localized_DocumentRoot"><span class="tocnumber">2.1.2</span> <span class="toctext">Localized DocumentRoot</span></a></li>
</ul>
</li>
</ul>
</li>
<li class='toclevel-1'><a href="#Allow_From"><span class="tocnumber">3</span> <span class="toctext">Allow From</span></a>
<ul>
<li class='toclevel-2'><a href="#Examples_3"><span class="tocnumber">3.1</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#Auth"><span class="tocnumber">4</span> <span class="toctext">Auth</span></a>
<ul>
<li class='toclevel-2'><a href="#Examples_4"><span class="tocnumber">4.1</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#OnlySecure"><span class="tocnumber">5</span> <span class="toctext">OnlySecure</span></a></li>
</ul>
</td></tr></table>
<p><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
</p>
<a name="Handler"></a><h2>Handler</h2>
<p>This configuration entry specifies how the server should generate the information it will send to the client.  There are a long list of possible handlers:   <b><a href="File_sending.html" title="File sending">file</a></b>, <b><a href="Directory_listing.html" title="Directory listing">dirlist</a></b>, <b><a href="Common_behavior.html" title="Common behavior">common</a></b>, <b><a href="Redirections.html" title="Redirections">redir</a></b>, etc.
</p><p>The handlers distributed with the standard Cherokee package are described in <a href="Main_Page.html" title="Main Page">this documentation</a>. Anyway, all of those handlers are plug-ins, so if you are using a handler not cover by this documentation, it might be a third party  plug-in.
</p>
<a name="Examples"></a><h3>Examples</h3>
<pre>Directory /images {
   Handler file
}</pre>
<a name="DocumentRoot"></a><h2>DocumentRoot</h2>
<p>This directive sets the document root definition for the Web server. But if one encloses a DocumentRoot definition within a Directory block, one can associate a new DocumentRoot with the directory associated with a directory block.
</p>
<a name="Examples_2"></a><h3>Examples</h3>
<a name="Global_DocumentRoot"></a><h4>Global DocumentRoot</h4>
<p>Setting the systemwide DocumentRoot places a DocumentRoot definition unenclosed in the configuration file:
</p>
<pre>DocumentRoot /var/www/</pre>
<a name="Localized_DocumentRoot"></a><h4>Localized DocumentRoot</h4>
<p>Assume there are some files inside <i>/usr/share/icons</i> that must be exported under the <i>/icons</i> directory. Enclosing a document root definition inside a directory block achieves the desired effect:
</p>
<pre>Directory /icons {
    DocumentRoot /usr/share/icons
}</pre>
<a name="Allow_From"></a><h2>Allow From</h2>
<p>This parameter lets you set up rules form allow access to the directory contents to some IP or IP ranges.  The remote client IP will be checked with all the provided list and only if the IP matches with some of the rules the access will be allowed.
</p><p>There are three possible entry types:
</p>
<ul><li> IP addresses
</li><li> Host names
</li><li> IP ranges
</li></ul>
<p>In the two cases, both IPv4 and IPv6 addresses are valid.
</p>
<a name="Examples_3"></a><h3>Examples</h3>
<p>Allow access only from the IPv6 localhost address:
</p>
<pre>Directory /secret1 {
   Allow from ::1
}</pre>
<p>Allow access from the 127.0.0.0/8 network:
</p>
<pre>Directory /onlylocal {
   Allow from 127.0.0.0/8
}</pre>
<p>or it could also we written like:
</p>
<pre>Directory /onlylocal {
   Allow from 127.0.0.0/255.0.0.0
}</pre>
<p>or:
</p>
<pre>Directory /onlylocal {
   Allow from localhost
}</pre>
<p>This last example is slightly different. It allows just a single IP instead a range.
</p><p><br />
It is also possible to use lists instead of a single IP or network range. And ir is also possible to mix IPv4 and IPv6 addresses and networks if you want.
</p>
<pre>Directory /secret {
   Allow from 192.168.0.0/16, ::1, 10.0.0.1, 3ffe:3200::/24
}</pre>
<a name="Auth"></a><h2>Auth</h2>
<p>This parameter allows to configure user/password protected entries. A validator has to be used in each Auth entry in order to specify the validaton mechanism. Eg: PAM, htpasswd, htdigest, plain text, etc.
</p><p>It accepts two kinds of validation schemes:
</p>
<ul><li> Basic
</li><li> Digest
</li></ul>
<p>It is possible to specify the kind of validation allowed in a certain resource:
</p>
<pre>Auth Basic</pre> Allows only the basic scheme
<pre>Auth Digest</pre> Allows only the digest scheme
<pre>Auth Basic, Digest</pre> Allows both schemes
<p>It is also possible to specify who is allowed to access the resource using the <b>User</b> entry.
</p><p><br />
</p>
<a name="Examples_4"></a><h3>Examples</h3>
<p>This example descrives a directory <i>/local</i> which requires a valid user and password pair.  This tuple will be checked using the <a href="Validators#PAM_validator.html" title="Validators">PAM validator</a>.
</p>
<pre>Directory /local {
    Auth Basic {
       Name &quot;Local users&quot;
       Method pam
    }
}</pre>
<p>This example is similar to the previous one, but only the users <i>root</i> and <i>alo</i> are allowed to access the directory using any kind of authentication scheme.
</p>
<pre>Directory /admin {
    Auth Basic, Digest {
       Name &quot;Administration stuff&quot;
       Method pam
       User root, alo
    }
}</pre>
<a name="OnlySecure"></a><h2>OnlySecure</h2>

     <div id="footer"><a href="http://www.0x50.org">Cherokee</a> Web Server</div>
 </body>
</html>
